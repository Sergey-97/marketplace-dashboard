Marketplace Dashboard - Project Status
üìã Project Context
–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 24.11.2025 12:45
–¢–µ–∫—É—â–∏–π —ç—Ç–∞–ø: –≠—Ç–∞–ø 4 - –°–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö (–Ω–∞—á–∞—Ç)
–°—Ç–∞—Ç—É—Å: Backend —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–∑–¥–∞–Ω–∞, API —Å–µ—Ä–≤–∏—Å—ã –≥–æ—Ç–æ–≤—ã, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ jobs/

üéØ –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
–ù–∞–∑–≤–∞–Ω–∏–µ: Marketplace Dashboard

–¶–µ–ª—å: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è HTML –¥–∞—à–±–æ—Ä–¥–∞ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ OZON –∏ Wildberries API —á–µ—Ä–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ Supabase –∏ –¥–µ–ø–ª–æ–π –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –°–º. –≠—Ç–∞–ø 2 - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç	–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
Frontend	–ß–∏—Å—Ç—ã–π HTML/CSS/JS (Vercel, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ö–æ—Å—Ç–∏–Ω–≥)
Backend	Node.js + Express (Render, Docker)
–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö	Supabase PostgreSQL (Free Tier)
–û—á–µ—Ä–µ–¥–∏	BullMQ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —Å Redis, –ø–æ–∫–∞ –≤ –ø–∞–º—è—Ç–∏)
–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫	node-cron
API –∫–ª–∏–µ–Ω—Ç—ã	–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ OZON Seller API, Wildberries API
üìä –ü—Ä–æ–≥—Ä–µ—Å—Å –ø—Ä–æ–µ–∫—Ç–∞
‚úÖ –≠—Ç–∞–ø 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase –í–´–ü–û–õ–ù–ï–ù–û
–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 24.11.2025
–í—Ä–µ–º—è: ~20 –º–∏–Ω—É—Ç

–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:
‚úÖ –°–æ–∑–¥–∞–Ω –ø—Ä–æ–µ–∫—Ç Supabase (Free Tier)
‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω SQL —Å–∫—Ä–∏–ø—Ç –±–µ–∑ TimescaleDB (Free Tier –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ)
‚úÖ –°–æ–∑–¥–∞–Ω—ã –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã: sales_fact, products, price_history, market_data, forecasts
‚úÖ –°–æ–∑–¥–∞–Ω—ã –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è: sales_daily_summary, sales_monthly_summary
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (7+ –∏–Ω–¥–µ–∫—Å–æ–≤)
‚úÖ –°–æ–∑–¥–∞–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏: calculate_kpi(), update_product_stock()
‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã RLS –ø–æ–ª–∏—Ç–∏–∫–∏ (–ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø –Ω–∞ —á—Ç–µ–Ω–∏–µ)
‚úÖ –í—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (3 —Ç–æ–≤–∞—Ä–∞)

–í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è:

–û—Ç–∫–∞–∑ –æ—Ç TimescaleDB: –ù–∞ Free Tier –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—ã—á–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏

–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: –î–æ 100k –∑–∞–ø–∏—Å–µ–π/–¥–µ–Ω—å –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±—ã—Å—Ç—Ä–æ (<100ms –Ω–∞ –∑–∞–ø—Ä–æ—Å)

–ú–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è: –¢—Ä–µ–±—É—é—Ç —Ä—É—á–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è REFRESH MATERIALIZED VIEW

‚úÖ –≠—Ç–∞–ø 2: –°–æ–∑–¥–∞–Ω–∏–µ Backend —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –í–´–ü–û–õ–ù–ï–ù–û
–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞: 24.11.2025
–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: 100% –≤—ã–ø–æ–ª–Ω–µ–Ω–æ

–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:
‚úÖ 2.1 –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚úÖ 2.2 –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–ø–æ–∫
‚úÖ 2.3 –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
‚úÖ 2.4 –°–æ–∑–¥–∞–Ω–∏–µ API —Å–µ—Ä–≤–∏—Å–æ–≤
‚úÖ 2.5 –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤

–¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

text
backend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ supabase.js ‚úì
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ redis.js ‚úì
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ozon.api.js ‚úì
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ wb.api.js ‚úì
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ test/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ ozon.test.js ‚úì
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ wb.test.js ‚úì
‚îÇ   ‚îú‚îÄ‚îÄ jobs/ ‚è≥ [–ü–£–°–¢–û - –°–ï–ô–ß–ê–° –†–ê–ë–û–¢–ê–ï–ú –ó–î–ï–°–¨]
‚îÇ   ‚îú‚îÄ‚îÄ routes/ ‚è≥
‚îÇ   ‚îú‚îÄ‚îÄ controllers/ ‚è≥
‚îÇ   ‚îî‚îÄ‚îÄ utils/ ‚è≥
‚îú‚îÄ‚îÄ .env ‚úì
‚îú‚îÄ‚îÄ .gitignore ‚úì
‚îú‚îÄ‚îÄ package.json ‚úì
‚îî‚îÄ‚îÄ Dockerfile ‚úì
üéØ –≠—Ç–∞–ø 4: –°–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –¢–ï–ö–£–©–ò–ô –≠–¢–ê–ü
–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å (–ø–æ—Ä—è–¥–æ–∫ –≤–∞–∂–µ–Ω):

4.1 src/jobs/sync.queue.js ‚è≥
–°–æ–∑–¥–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä—ã syncQueue –∏ forecastQueue

–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–ø—Ü–∏–∏: 3 –ø–æ–ø—ã—Ç–∫–∏, —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π backoff, rate limiting

–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ addSyncJob() –∏ addForecastJob()

4.2 src/jobs/sync.worker.js ‚è≥
–°–æ–∑–¥–∞—Ç—å syncWorker

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å processSyncJob() - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–¥–∞—á —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

–î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π completed –∏ failed

–ù–∞—Å—Ç—Ä–æ–∏—Ç—å concurrency = 1 (–≤–∞–∂–Ω–æ –¥–ª—è rate limiting)

4.3 src/jobs/sync.cron.js ‚è≥
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å scheduleDailySync() - cron –Ω–∞ 03:00 UTC

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å runFullSync() - —Ä—É—á–Ω–∞—è –ø–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å getDateDaysAgo() - –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è

4.4 src/utils/initial-loader.js ‚è≥
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å loadAllHistory() - –∑–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ –Ω–µ–¥–µ–ª—å–Ω—ã–º –±–ª–æ–∫–∞–º

–î–æ–±–∞–≤–∏—Ç—å –ø–∞—É–∑—ã –º–µ–∂–¥—É –±–ª–æ–∫–∞–º–∏ (5 —Å–µ–∫—É–Ω–¥)

üöÄ –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ (Roadmap)
üìã –ë–ª–∏–∂–∞–π—à–∏–µ —ç—Ç–∞–ø—ã:
üéØ –°–ï–ô–ß–ê–°: –ó–∞–≤–µ—Ä—à–∏—Ç—å –≠—Ç–∞–ø 4 (Jobs/Workers)

‚è≠Ô∏è –î–ê–õ–ï–ï: –≠—Ç–∞–ø 5 - API Endpoints

‚è≠Ô∏è –î–ê–õ–ï–ï: –≠—Ç–∞–ø 6 - –î–µ–ø–ª–æ–π –Ω–∞ Render

‚è≠Ô∏è –î–ê–õ–ï–ï: –≠—Ç–∞–ø 7 - Frontend –∞–¥–∞–ø—Ç–∞—Ü–∏—è

üìÖ –ü–æ–ª–Ω—ã–π –ø–ª–∞–Ω:
–≠—Ç–∞–ø	–°—Ç–∞—Ç—É—Å	–ü—Ä–æ–≥—Ä–µ—Å—Å
1. Supabase	‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ	100%
2. Backend —Å—Ç—Ä—É–∫—Ç—É—Ä–∞	‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ	100%
3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ	‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ	100%
4. Jobs/Workers	üü° –í –ø—Ä–æ—Ü–µ—Å—Å–µ	0%
5. API Endpoints	‚è≥ –û–∂–∏–¥–∞–µ—Ç	0%
6. –î–µ–ø–ª–æ–π –Ω–∞ Render	‚è≥ –û–∂–∏–¥–∞–µ—Ç	0%
7. Frontend	‚è≥ –û–∂–∏–¥–∞–µ—Ç	0%
8. –ó–∞–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç—ã	‚è≥ –û–∂–∏–¥–∞–µ—Ç	0%
üõ† –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å
üî• –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏:
–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª—ã –≠—Ç–∞–ø–∞ 4:

src/jobs/sync.queue.js

src/jobs/sync.worker.js

src/jobs/sync.cron.js

src/utils/initial-loader.js

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É:

powershell
Get-ChildItem -Recurse src\services\test
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 2 —Ñ–∞–π–ª–∞: ozon.test.js, wb.test.js
‚úÖ –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:
.env –∑–∞–ø–æ–ª–Ω–µ–Ω –±–µ–∑ –∫–∞–≤—ã—á–µ–∫ –∏ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤

API –∫–ª—é—á–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã (–Ω–µ –∏—Å—Ç–µ–∫–ª–∏)

–í—Å–µ —Ñ–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ UTF-8 –∫–æ–¥–∏—Ä–æ–≤–∫–µ

Supabase –¥–æ—Å—Ç—É–ø–µ–Ω

üí° –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —Ñ–∞–π–ª–æ–≤
–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —à–∞–±–ª–æ–Ω:

javascript
// File: backend/src/–ø—É—Ç—å/–∫/—Ñ–∞–π–ª—É.js
// Description: –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç —Ñ–∞–π–ª
// Dependencies: –ö–∞–∫–∏–µ –º–æ–¥—É–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç
üéØ –°–ª–µ–¥—É—é—â–∞—è –∑–∞–¥–∞—á–∞
–°–æ–∑–¥–∞–π—Ç–µ –≠—Ç–∞–ø 4 —Ñ–∞–π–ª—ã (–≤ –ø–æ—Ä—è–¥–∫–µ):

sync.queue.js - –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á

sync.worker.js - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏

sync.cron.js - –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫

initial-loader.js - –∑–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏
## –¢–µ–∫—É—â–∏–π —ç—Ç–∞–ø: –≠—Ç–∞–ø 7 - –ê–¥–∞–ø—Ç–∞—Ü–∏—è HTML –¥–∞—à–±–æ—Ä–¥–∞ ‚úì

### –î–µ–ø–ª–æ–π:
- Backend: https://marketplace-dashboard-1.onrender.com ‚úì
- Frontend: https://marketplace-dashboard-frontend.vercel.app ‚úì
- Supabase: https://your-project.supabase.co ‚úì

### –ü—Ä–æ–≤–µ—Ä–∫–∞:
1. Backend health: ‚úÖ –ü—Ä–æ—Ö–æ–¥–∏—Ç
2. Frontend: ‚úÖ –î–∞—à–±–æ—Ä–¥ –¥–æ—Å—Ç—É–ø–µ–Ω
3. API: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
4. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è: ‚úÖ –ó–∞–¥–∞—á–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∞:
# Backend health
curl https://marketplace-dashboard-1.onrender.com/health

# Frontend
open https://marketplace-dashboard-frontend.vercel.app